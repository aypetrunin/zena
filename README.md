# Zena ‚Äî Platform Architecture (Root Repo)

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π ‚Äî **–∫–æ—Ä–Ω–µ–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** (root repo) –¥–ª—è —Å–∏—Å—Ç–µ–º—ã Zena.
–û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –æ–±—â–∏–µ —Ñ–∞–π–ª—ã –∑–∞–ø—É—Å–∫–∞ –∏ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä `docker-compose.yml`, `Makefile`)
- **—Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞ –∫–∞–∫ Git submodules**:
  - `apifast` ‚Äî https://github.com/aypetrunin/apifast
  - `langgraph` ‚Äî https://github.com/aypetrunin/langgraph
  - `mcpserver` ‚Äî https://github.com/aypetrunin/mcpserver

> –í–∞–∂–Ω–æ: —Å–µ—Ä–≤–∏—Å—ã —è–≤–ª—è—é—Ç—Å—è **–æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏**, –Ω–æ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã —Å—é–¥–∞ –∫–∞–∫ **submodules**.
> Root-—Ä–µ–ø–æ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç ‚Äú—Å–Ω–∏–º–æ–∫‚Äù –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã: –∫–∞–∫–∏–µ –≤–µ—Ä—Å–∏–∏ (–∫–æ–º–º–∏—Ç—ã) —Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤–º–µ—Å—Ç–µ.

---

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è)
- [–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
- [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç](#–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç)
- [–†–∞–±–æ—Ç–∞ —Å submodules](#—Ä–∞–±–æ—Ç–∞-—Å-submodules)
- [–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose](#–∑–∞–ø—É—Å–∫-—á–µ—Ä–µ–∑-docker-compose)
- [–ó–∞–ø—É—Å–∫/–∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ Makefile](#–∑–∞–ø—É—Å–∫–∑–∞–¥–∞—á–∏-—á–µ—Ä–µ–∑-makefile)
- [–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Å–µ–∫—Ä–µ—Ç—ã](#–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ-–æ–∫—Ä—É–∂–µ–Ω–∏—è-–∏-—Å–µ–∫—Ä–µ—Ç—ã)
- [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
- [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-–≤–µ—Ä—Å–∏–π-—Å–µ—Ä–≤–∏—Å–æ–≤-–≤-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ)
- [Troubleshooting](#troubleshooting)
- [–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã](#–ø–æ–ª–µ–∑–Ω—ã–µ-–∫–æ–º–∞–Ω–¥—ã)

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```text
zena/
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ Makefile
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ README docker.md
‚îú‚îÄ‚îÄ README make.md
‚îú‚îÄ‚îÄ README uv.md
‚îú‚îÄ‚îÄ apifast/     (submodule)
‚îú‚îÄ‚îÄ langgraph/   (submodule)
‚îî‚îÄ‚îÄ mcpserver/   (submodule)
```


## üß† –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ (–≤–∞–∂–Ω–æ –ø–æ–Ω—è—Ç—å)
–ß—Ç–æ —Ç–∞–∫–æ–µ root-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π (zena)
- –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–æ–≤
- —Ö—Ä–∞–Ω–∏—Ç:
    –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
    docker-compose
    Makefile
    README
    —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤ (submodules)
Root-—Ä–µ–ø–æ = ¬´—Å–Ω–∏–º–æ–∫ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –º–æ–º–µ–Ω—Ç¬ª.

## –ß—Ç–æ —Ç–∞–∫–æ–µ submodule
Submodule ‚Äî —ç—Ç–æ:
—Å—Å—ã–ª–∫–∞ –Ω–∞ –≤–Ω–µ—à–Ω–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π commit SHA
```text
zena
 ‚îú‚îÄ‚îÄ apifast     ‚Üí github.com/aypetrunin/apifast @ <commit>
 ‚îú‚îÄ‚îÄ langgraph   ‚Üí github.com/aypetrunin/langgraph @ <commit>
 ‚îî‚îÄ‚îÄ mcpserver   ‚Üí github.com/aypetrunin/mcpserver @ <commit>
```
Root –Ω–µ —Ö—Ä–∞–Ω–∏—Ç –∫–æ–¥, –æ–Ω —Ö—Ä–∞–Ω–∏—Ç –≤–µ—Ä—Å–∏–∏.

## üß© –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å (–û–ß–ï–ù–¨ –í–ê–ñ–ù–û)
    ‚ùå –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞—Ç—å
    ‚ùå –Ω–µ –ø–∏—Å–∞—Ç—å –∫–æ–¥ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ root-—Ä–µ–ø–æ
    ‚ùå –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—å —Ñ–∞–π–ª—ã —Å–µ—Ä–≤–∏—Å–æ–≤ –≤ zena
    ‚ùå –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å .env, –∫–ª—é—á–∏, JSON-—Å–µ–∫—Ä–µ—Ç—ã –≤ git
    ‚ùå –Ω–µ –¥–µ–ª–∞—Ç—å git add . –±–µ–∑ –ø–æ–Ω–∏–º–∞–Ω–∏—è

## ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã (—à–∞–≥ –∑–∞ —à–∞–≥–æ–º)
### üßë‚Äçüíª 1. –†–∞–±–æ—Ç–∞ —Å —Å–µ—Ä–≤–∏—Å–æ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä apifast)

```bash
cd apifast
git status
```

### –°–æ–∑–¥–∞—ë–º —Ñ–∏—á—É:

```bash
git checkout -b feature/my-feature
```

### –†–∞–±–æ—Ç–∞–µ–º:

```bash
# –ø—Ä–∞–≤–∫–∏
git add -A
git commit -m "Add my feature"
git push -u origin feature/my-feature
```
‚û°Ô∏è –≠—Ç–æ –æ–±—ã—á–Ω—ã–π Git, –∫–∞–∫ –µ—Å–ª–∏ –±—ã root –Ω–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª.

## üß© 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–∞ –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

### –ü–æ—Å–ª–µ –º–µ—Ä–∂–∞ —Ñ–∏—á–∏ –≤ main —Å–µ—Ä–≤–∏—Å–∞:

```bash
cd apifast
git checkout main
git pull
```

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º—Å—è –≤ root:
```bash
cd ..
git status
```

### –¢—ã —É–≤–∏–¥–∏—à—å:

```text
modified: apifast (new commits)
```

### –§–∏–∫—Å–∏—Ä—É–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É:

```bash
git add apifast
git commit -m "Bump apifast submodule"
git push
```
‚û°Ô∏è –¢–µ–ø–µ—Ä—å –≤—Å—è –∫–æ–º–∞–Ω–¥–∞ –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Å–µ—Ä–≤–∏—Å–∞.


## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ —Ä–∞–∑–æ–º
–û–±–Ω–æ–≤–∏—Ç—å —Å–∞–±–º–æ–¥—É–ª–∏ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∫–æ–º–º–∏—Ç–æ–≤ main

```bash
git submodule update --remote --merge
git add .
git commit -m "Bump submodules"
git push
```


## üîÅ –ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–ø–∞–º—è—Ç–∫–∞)
–û–±–Ω–æ–≤–∏—Ç—å –≤—Å—ë –ø–æ—Å–ª–µ git pull
```bash
git pull
git submodule update --init --recursive
```

## –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
git submodule status
```

## –ó–∞–π—Ç–∏ –≤ —Å–µ—Ä–≤–∏—Å
```bash
cd apifast
```

### –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ root
```bash
cd ..
```

